<html>
<meta name="viewport" content="width = device-width, user-scalable = no">

<head>
    <script>
    var timestamp;
    var clickCount = 0;

    function setup() {
        bindTouchAndClickHandlers(document.getElementById("target"), handleTouchEnd, handleSyntheticClick);
    }

    function bindTouchAndClickHandlers(element, ontouchend, onclick) {
        element.addEventListener("touchend", ontouchend, false);
        element.addEventListener("click", onclick, false);
    }

    function handleTouchEnd(event) {
        event.target.style.backgroundColor = "#FF2222";
        timestamp = Number(new Date());
    }

    function handleSyntheticClick(event) {
        clickCount++;
        event.target.textContent = "Click count: " + clickCount;
        var delay = Number(new Date()) - timestamp;
        document.getElementById("delay-log").textContent = "Delay: " + delay + " ms";
        event.target.style.backgroundColor = "#22FF22";
    }
    </script>

    <style>
    body {
        margin: 0;
    }

    button {
        margin: 10px;
        width: 100vh;
        height: 50vh;
        border-radius: 10px;
        background-color: #22FF22;
        margin-bottom: 10px;
        font-size: 30px;
    }
    </style>
</head>

<body onload="setup()">
    <button id="target">Click count: 0</button>
    <h1 id="delay-log">Delay:</h1>
</body>

</html>
